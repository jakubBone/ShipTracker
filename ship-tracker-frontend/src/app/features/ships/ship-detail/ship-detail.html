<div class="ship-detail-container">

  <button mat-button (click)="goBack()" class="back-button">
    <mat-icon>arrow_back</mat-icon>
    Back to List
  </button>

  @if (ship(); as ship) {
    <mat-card class="ship-info-card">
      <mat-card-header>
        <mat-card-title>{{ ship.name }}</mat-card-title>
        <mat-card-subtitle>{{ ship.shipType }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="ship-info-grid">
          <div class="info-item">
            <span class="info-label">Launch Date</span>
            <span class="info-value">{{ ship.launchDate | date:'MMM d, yyyy' }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Tonnage</span>
            <span class="info-value">{{ ship.tonnage | number }} t</span>
          </div>
          <div class="info-item">
            <span class="info-label">Reports</span>
            <span class="info-value">{{ ship.reportCount }}</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <div class="detail-columns">
      <mat-card class="form-card">
        <mat-card-header>
          <mat-card-title>Add Location Entry</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <app-location-report-form
            [shipId]="ship.id"
            (reportAdded)="onReportAdded($event)" />
        </mat-card-content>
      </mat-card>

      <mat-card class="timeline-card">
        <mat-card-header>
          <mat-card-title>Location History</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <app-timeline [reports]="reports()" />
        </mat-card-content>
      </mat-card>
    </div>
  }

</div>
